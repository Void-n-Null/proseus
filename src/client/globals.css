/* Fonts: Instrument Serif (display), Outfit (body) */
@import url('https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Outfit:wght@200;300;400;500&display=swap');

@import "tailwindcss";

/* ============================================
   PROSEUS THEME — Forge-lineage dark UI
   Sister project: proseus-ai
   Same DNA, unique voice.
   ============================================ */

@theme {
  /* Surface layers — blue-tinted near-blacks, hue 250 */
  --color-background: oklch(0.08 0.01 250);
  --color-surface: oklch(0.13 0.01 250);
  --color-surface-raised: oklch(0.16 0.01 250);
  --color-surface-hover: oklch(0.20 0.01 250);

  /* Borders — ultra-subtle */
  --color-border: oklch(0.25 0.005 250);
  --color-border-subtle: oklch(0.20 0.005 250);

  /* Text hierarchy */
  --color-foreground: oklch(0.95 0 0);
  --color-text-body: oklch(0.88 0.005 250);
  --color-text-muted: oklch(0.50 0 0);
  --color-text-dim: oklch(0.38 0 0);

  /* Accent — cool violet, same as proseus-ai primary */
  --color-primary: oklch(0.70 0.15 280);
  --color-primary-hover: oklch(0.75 0.15 280);

  /* Destructive */
  --color-destructive: oklch(0.55 0.20 25);

  /* Font families */
  --font-display: 'Instrument Serif', Georgia, serif;
  --font-body: 'Outfit', system-ui, -apple-system, sans-serif;

  /* Sharp radius — matches forge aesthetic */
  --radius-sm: 0.125rem;
  --radius-md: 0.25rem;
  --radius-lg: 0.375rem;
}

body {
  font-family: var(--font-body);
  font-weight: 300;
  background: var(--color-background);
  color: var(--color-foreground);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Minimal scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.12) transparent;
}
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(148, 163, 184, 0.12); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(148, 163, 184, 0.25); }

/* ============================================
   PILOT LIGHT — the 1px line beneath the input
   Animates between violet (idle) and
   orange→rose→violet gradient (has text).
   ============================================ */

@keyframes pilot-idle-pulse {
  0%, 100% {
    opacity: 0.25;
    box-shadow: 0 0 4px rgba(139, 92, 246, 0.15);
  }
  50% {
    opacity: 0.45;
    box-shadow: 0 0 8px rgba(139, 92, 246, 0.25);
  }
}

.pilot-light {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  border-radius: 9999px;
}

/* Violet base — always present, fades out when gradient is active */
.pilot-violet {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background-color: rgba(124, 58, 237, 0.25);
  box-shadow: 0 0 4px rgba(139, 92, 246, 0.15);
  animation: pilot-idle-pulse 3s ease-in-out infinite;
  transition: opacity 0.2s, background-color 0.2s, box-shadow 0.2s;
}

/* Focused idle — brighter violet */
.pilot-focused .pilot-violet {
  background-color: rgba(124, 58, 237, 0.6);
  box-shadow: 0 0 10px rgba(139, 92, 246, 0.4);
  animation: none;
}

/* Has text — hide violet layer */
.pilot-hot .pilot-violet {
  opacity: 0;
}

/* Gradient flame — orange → rose → violet */
.pilot-gradient {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(90deg, #f97316, #f43f5e, #8b5cf6);
  opacity: 0;
  box-shadow: 0 0 4px rgba(249, 115, 22, 0.15);
  transition: opacity 0.2s, box-shadow 0.2s;
}

/* Has text — show gradient */
.pilot-hot .pilot-gradient {
  opacity: 0.45;
}

/* Has text + focused — brighten */
.pilot-hot.pilot-focused .pilot-gradient {
  opacity: 0.8;
  box-shadow: 0 0 10px rgba(249, 115, 22, 0.3), 0 0 10px rgba(139, 92, 246, 0.3);
}

/* ============================================
   FLAME GLOW — drop-shadow on the SVG so the
   glow hugs the flame shape, not the button box.
   Layered orange → rose shadows for warmth.
   ============================================ */

.flame-glow svg {
  filter:
    drop-shadow(0 0 3px rgba(249, 115, 22, 0.0))
    drop-shadow(0 0 8px rgba(244, 63, 94, 0.0));
  transition: filter 0.25s ease;
}

.flame-glow:hover svg {
  filter:
    drop-shadow(0 0 4px rgba(249, 115, 22, 0.7))
    drop-shadow(0 0 10px rgba(244, 63, 94, 0.4))
    drop-shadow(0 0 18px rgba(139, 92, 246, 0.3));
}

.flame-glow:active svg {
  filter:
    drop-shadow(0 0 5px rgba(249, 115, 22, 0.9))
    drop-shadow(0 0 14px rgba(244, 63, 94, 0.6))
    drop-shadow(0 0 22px rgba(139, 92, 246, 0.4));
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
